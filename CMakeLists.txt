CMAKE_MINIMUM_REQUIRED(VERSION 3.4)
PROJECT(DiamondDogs)
# and turquoise days...

SET(CMAKE_CXX_FLAGS_RELWITHDEBINFO "${CMAKE_CXX_FLAGS_RELWITHDEBINFO} /MP /Gy")
SET(CMAKE_CXX_FLAGS_RELEASE "${CMAKE_CXX_FLAGS_RELWITHDEBINFO} /Oi /MP /Gy")
SET(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} /Gy")
SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /JMC")

FIND_PACKAGE(Vulkan REQUIRED)
ADD_SUBDIRECTORY(third_party/vulpesrender)
ADD_SUBDIRECTORY(third_party/shadertools)
SET(ENABLE_AVX2 ON CACHE BOOL "Enable AVX2 instructions")
ADD_SUBDIRECTORY(third_party/mango/build)
SET_TARGET_PROPERTIES(mango mango-framebuffer mango-opengl mango-vulkan PROPERTIES FOLDER "Mango")
SET(build_static_lib ON CACHE BOOL "Build easyloggingpp as a static library")
ADD_SUBDIRECTORY(third_party/easyloggingpp)
ADD_SUBDIRECTORY(core)
ADD_SUBDIRECTORY(modules)
ADD_SUBDIRECTORY(tests/integration_tests)
